<div class="row">
  <div class="col-xs-12">
    <h2 class="page-header">Orden de muestreo</h2>
  </div>
</div>
<form class="form" role="form"
  name="orderForm"
  data-ng-submit="order.submitOrderForm()"
  novalidate
  >
  <div class="row">
    <div class="col-xs-12">
      <h4>Datos de Referencia</h4>
      <div class="well well-sm">
        <ul class="list-inline">
          <li>
            Folio:
            {{order.folio}}
            /
            {{order.ejercicio}}</li>
          <li data-ng-show="order.fecha_orden.length > 0">
            Fecha actual:
            {{order.fecha_orden}}</li>
          <li data-ng-show="order.solicitud.length > 0">
            Fecha solicitud:
            {{order.solicitud.fecha_solicitud}}</li>
          <li data-ng-show="order.fecha_captura.length > 0">
            Fecha captura:
            {{order.fecha_captura}}</li>
          <li data-ng-show="order.fecha_valida.length > 0">
            Fecha validación:
            {{order.fecha_valida}}</li>
          <li data-ng-show="order.fecha_acepta.length > 0">
            Fecha aceptación:
            {{order.fecha_acepta}}</li>
          <li data-ng-show="order.fecha_actualizacion.length > 0">
            Fecha actualización:
            {{order.fecha_actualizacion}}</li>
        </ul>
        <span class="text-info"
          data-ng-show="order.validado > 0">Validada</span>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 col-sm-6">
      <h4>Cliente</h4>
      <div class="well well-sm">
        Cliente: {{order.cliente.cliente}}
        {{order.cliente.area.length > 0 &&
        ' - ' + order.cliente.area ||
        ''}}
        <br>
        Contacto: {{order.cliente.contacto}}
      </div>
    </div>
    <div class="col-xs-12 col-sm-6">
      <h4>Solicitud / Cotización</h4>
      <div class="well well-sm">
        Folio:
        {{order.solicitud.folio_solicitud}}
        /
        {{order.solicitud.ejercicio}}
        <br>Fecha:
        {{order.solicitud.fecha_captura}}
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <h4>Medio de Solicitud de Muestreo</h4>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 col-sm-6 col-md-5 col-lg-5">
      <label for="orderSourceSelect" class="sr-only">
        Seleccione un Medio de Solicitud
      </label>
      <select class="form-control"
        id="orderSourceSelect"
        name="orderSourceSelect"
        required
        data-ng-model="order.id_origen_orden"
        data-ng-change="order.selectOrderSource()"
        >
        <option value="">
          Seleccione una opción
        </option>
        <option data-ng-repeat="orderSource in order.orderSources"
          value="{{orderSource.id_origen_orden}}">
          {{orderSource.origen_orden}}
        </option>
      </select>
    </div>
    <div class="col-xs-12 col-sm-6 col-md-7 col-lg-7">
      <label class="sr-only" for="emergencyText">
        En caso de emergencia, especificar
      </label>
      <input type="text" class="form-control"
        id="emergencyText"
        name="emergencyText"
        placeholder="En caso de emergencia, especificar"
        data-ng-model="order.origen_otro"
        >
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <h4>Matriz</h4>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 col-sm-6 col-md-5 col-lg-5">
      <label for="matrixSelect" class="sr-only">
        Seleccione un Tipo de Matriz
      </label>
      <select class="form-control"
        id="matrixSelect"
        name="matrixSelect"
        required
        data-ng-model="order.id_matriz"
        data-ng-change="order.selectMatrix()"
        >
        <option value="">
          Seleccione una opción
        </option>
        <option data-ng-repeat="matrix in order.matrices"
          value="{{matrix.id_matriz}}">
          {{matrix.matriz}}
        </option>
      </select>
    </div>
    <div class="col-xs-12 col-sm-6 col-md-7 col-lg-7">
      <label class="sr-only" for="matrixText">
        En caso de otra, especificar
      </label>
      <input type="text" class="form-control"
        id="matrixText"
        name="matrixText"
        placeholder="En caso de otra, especificar"
        data-ng-model="order.matriz_otra"
        >
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <h4>Parámetros</h4>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <div class="well well-sm">
        <div class="row">
          <div class="col-xs-12 col-sm-6 col-md-4"
            data-ng-repeat="parameter in order.parameters"
            >
            {{parameter.parametro}}
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <h4>Asignar Responsable de Muestreo</h4>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 col-sm-6 col-md-5 col-lg-5">
      <label for="supervisorSelect" class="sr-only">
        Seleccione un Responsable de muestreo
      </label>
      <select class="form-control"
        id="supervisorSelect"
        name="supervisorSelect"
        required
        data-ng-model="order.id_responsable_muestreo"
        data-ng-change="order.selectSupervisor()"
        >
        <option value="">
          Seleccione una opción
        </option>
        <option data-ng-repeat="supervisor in order.supervisors"
          value="{{supervisor.id_empleado}}">
          {{supervisor.nombres}}
          {{supervisor.ap}}
          {{supervisor.am}}
        </option>
      </select>
    </div>
  </div>
  <br>
  <button type="submit" class="btn btn-primary"
    value="Guardar" title="Guardar"
    data-ng-click="order.validateOrderForm()"
    >
    Guardar</button>
</form>